
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Horovod 框架使用问题集 | The Notes of HH</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="John Doe">
    
    <meta name="description" content="执行horovodrun执行常用参数

/usr/local/python3.6/bin/horovodrun –verbose -np 2 -H master:1,clone02:1 python3 hvd_mnist_mod_02.py

mpirun执行执行问题
问题描述Traceback (">
    
    
    
    
    <link rel="alternative" href="/Tinnypp/atom.xml" title="The Notes of HH" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/myLogo.png">
    <link rel="apple-touch-icon-precomposed" href="/img/myLogo.png">
    

  
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    
  

    
<link rel="stylesheet" href="/css/style.css">

    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?d182ed77fc48758bf45a33835ee35745";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

      <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','.............Add your swiftype userID...............');
</script>
<meta name="generator" content="Hexo 4.2.0"></head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="The Notes of HH" title="The Notes of HH"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="The Notes of HH">The Notes of HH</a></h1>
				<h2 class="blog-motto">Hold Your Horse</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
                    <ul>
					 
						<li><a href="https://hhwode.github.io/">首页</a></li>
					
						<li><a href="https://hhwode.github.io/archives">归档</a></li>
					
					<li>
					
					</li>
                <!--<li><div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div></li>-->

				</ul>
			</nav>	
</div>
    </header>
    <div id="container" class="clearfix">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/02/19/hvd/Horovod_question/" title="Horovod 框架使用问题集" itemprop="url">Horovod 框架使用问题集</a>
  </h1>
  <p class="article-time">
    <time datetime="2020-02-19T14:44:24.000Z" itemprop="datePublished">2020-02-19</time>
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title"></strong>
		<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#执行"><span class="toc-number">1.</span> <span class="toc-text">执行</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#horovodrun执行"><span class="toc-number">1.1.</span> <span class="toc-text">horovodrun执行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mpirun执行"><span class="toc-number">1.2.</span> <span class="toc-text">mpirun执行</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#执行问题"><span class="toc-number">2.</span> <span class="toc-text">执行问题</span></a></li></ol>
		</div>
		
		<h1 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h1><h2 id="horovodrun执行"><a href="#horovodrun执行" class="headerlink" title="horovodrun执行"></a>horovodrun执行</h2><p>常用参数</p>
<ol>
<li>/usr/local/python3.6/bin/horovodrun –verbose -np 2 -H master:1,clone02:1 python3 hvd_mnist_mod_02.py</li>
</ol>
<h2 id="mpirun执行"><a href="#mpirun执行" class="headerlink" title="mpirun执行"></a>mpirun执行</h2><h1 id="执行问题"><a href="#执行问题" class="headerlink" title="执行问题"></a>执行问题</h1><ol>
<li>问题描述<br>Traceback (most recent call last):<br>File “/usr/local/python3.6/lib/python3.6/runpy.py”, line 193, in <em>run_module_as_main<br> “<em>_main</em></em>“, mod_spec)<br>File “/usr/local/python3.6/lib/python3.6/runpy.py”, line 85, in <em>run_code<br> exec(code, run_globals)<br>File “/usr/local/python3.6/lib/python3.6/site-packages/horovod/run/task_fn.py”, line 67, in <module><br> <em>task_fn(index, driver_addresses, settings)<br>File “/usr/local/python3.6/lib/python3.6/site-packages/horovod/run/task_fn.py”, line 27, in _task_fn<br> driver_addresses, settings.key, settings.verbose)<br>File “/usr/local/python3.6/lib/python3.6/site-packages/horovod/run/driver/driver_service.py”, line 35, in __init</em></em><br> match_intf=match_intf)<br>File “/usr/local/python3.6/lib/python3.6/site-packages/horovod/run/common/service/driver_service.py”, line 153, in <strong>init</strong><br> match_intf=match_intf)<br>File “/usr/local/python3.6/lib/python3.6/site-packages/horovod/run/common/util/network.py”, line 174, in <strong>init</strong><br> ‘Linux.’.format(service_name=service_name, addresses=addresses))<br>horovod.run.common.util.network.NoValidAddressesFound: Horovodrun was unable to connect to horovodrun driver service on any of the following addresses: {‘lo’: [(‘127.0.0.1’, 30616)], ‘ens33’: [(‘192.168.110.150’, 30616)], ‘virbr0’: [(‘192.168.122.1’, 30616)]}.</li>
</ol>
<p>One possible cause of this problem is that horovodrun currently requires every host to have at least one routable network interface with the same name across all of the hosts. You can run “ifconfig -a” on every host and check for the common routable interface. To fix the problem, you can rename interfaces on Linux.</p>
<p>解决办法：<br>    - 1. 可能ssh无密码登录未设置<br>    - 2. 可能防火墙未关闭</p>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/deepLearning/">deepLearning</a><a href="/tags/distributedTraining/">distributedTraining</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/introduce/">introduce</a>
</div>



<div class="article-share" id="share">

  <div data-url="https://hhwode.github.io/2020/02/19/hvd/Horovod_question/" data-title="Horovod 框架使用问题集 | The Notes of HH" data-tsina="" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2020/02/20/hpc/GPipe Efficient Training of Giant Neural Networks using Pipeline Parallelism/" title="GPipe Efficient Training of Giant Neural Networks using Pipeline Parallelism">
  <strong>新一篇:</strong><br/>
  <span>
  GPipe Efficient Training of Giant Neural Networks using Pipeline Parallelism</span>
</a>
</div>


<div class="next">
<a href="/2020/02/19/vm/"  title="vm虚拟机">
 <strong>旧一篇:</strong><br/> 
 <span>vm虚拟机
</span>
</a>
</div>

</nav>

	
<section class="comment">
	
	<div class="ds-thread" data-title="Horovod 框架使用问题集" data-thread-key="hvd/Horovod_question" data-author-key="John Doe" data-url="https://hhwode.github.io/post/hvd/Horovod_question"></div>
	
</section>


</div>  
    </div>
    <footer><div id="footer" >
	<div class="copyright">
		<span>Powered by <a href="https://github.com/hexojs/hexo" target="_blank" rel="noopener">Hexo</a> and theme by 
		<a href="https://github.com/levonlin/Tinnypp" target="_blank" rel="noopener">Tinnypp</a>.</span>
		
			<span>© HH</span>
		
	<div>
</div></footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  //back to top
  function backToTop(){
    var buttonHTML = $("<a href=\"#top\" id=\"back-top\">" + "<span>Back to Top</span></a>");
    buttonHTML.appendTo($("body"));
    var buttonToTop = $("#back-top");
    // hide #back-top first
    buttonToTop.hide();

    // fade in #back-top
    $(function() {
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                buttonToTop.fadeIn();
            } else {
                buttonToTop.fadeOut();
            }
        });
        // scroll body to 0px on click
        buttonToTop.click(function() {
            $('body,html').animate({
                scrollTop: 0
            }, 800);
            return false;
        });
    });
  }
  backToTop();

  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      ta = $('#toc.toc-aside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
        
    }
  });

  var show = true;
  c.click(function(){
    if(show == true){
        a.addClass('fadeOut').css('display', 'none');
        ta.css('display', 'block').addClass('fadeIn');
        m.addClass('moveMain');  
    }else{
        a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');     
        ta.css('display', 'none'); 
        m.removeClass('moveMain');
        $('#toc.toc-aside').css('display', 'none');
    }
    show = !show;
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{

    $(window).scroll(function(){
      ta.css("top",Math.max(140,240-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>


<script type="text/javascript">
  var duoshuoQuery = {short_name:"tinnypp"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';    //change to ds.src = '/js/embed.js'; to add useragent for duoshuo
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>

<script type="text/javascript">
  function footerPosition() {
    var contentHeight = document.documentElement.scrollHeight,
        winHeight = window.innerHeight;
    if(contentHeight <= winHeight) {
      $('footer').addClass('fixed-bottom');
    } else {
      $('footer').removeClass('fixed-bottom');
    }
  }
  footerPosition();
  $(window).resize(footerPosition);
</script>


  </body>
</html>
